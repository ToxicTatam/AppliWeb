/*C1*/SET SCHEMA SYSTEM_LOBS
INSERT INTO BLOCKS VALUES(0,2147483647,0)
COMMIT
/*C2*/SET SCHEMA PUBLIC
\u000a    drop table if exists competition_teams cascade 
\u000a    drop table if exists competitions cascade 
\u000a    drop table if exists match_sheets cascade 
\u000a    drop table if exists matches cascade 
\u000a    drop table if exists media cascade 
\u000a    drop table if exists notifications cascade 
\u000a    drop table if exists player_histories cascade 
\u000a    drop table if exists player_participations cascade 
\u000a    drop table if exists players cascade 
\u000a    drop table if exists standings cascade 
\u000a    drop table if exists teams cascade 
\u000a    drop table if exists users cascade 
DISCONNECT
/*C3*/SET SCHEMA PUBLIC
\u000a    drop table if exists competition_teams cascade 
\u000a    drop table if exists competitions cascade 
\u000a    drop table if exists match_sheets cascade 
\u000a    drop table if exists matches cascade 
\u000a    drop table if exists media cascade 
\u000a    drop table if exists notifications cascade 
\u000a    drop table if exists player_histories cascade 
\u000a    drop table if exists player_participations cascade 
\u000a    drop table if exists players cascade 
\u000a    drop table if exists standings cascade 
\u000a    drop table if exists teams cascade 
\u000a    drop table if exists users cascade 
\u000a    create table competition_teams (\u000a        competition_id bigint not null,\u000a        team_id bigint not null,\u000a        primary key (competition_id, team_id)\u000a    )
\u000a    create table competitions (\u000a        end_date date not null,\u000a        max_teams integer,\u000a        registration_deadline date,\u000a        start_date date not null,\u000a        created_at timestamp(6),\u000a        id bigint generated by default as identity (start with 1),\u000a        organizer_id bigint not null,\u000a        updated_at timestamp(6),\u000a        competition_status varchar(255) not null check (competition_status in ('UPCOMING','REGISTRATION','ONGOING','COMPLETED','CANCELLED')),\u000a        competition_type varchar(255) not null check (competition_type in ('LEAGUE','TOURNAMENT','CUP')),\u000a        description varchar(255) not null,\u000a        location varchar(255) not null,\u000a        name varchar(255) not null,\u000a        primary key (id)\u000a    )
\u000a    create table match_sheets (\u000a        is_validated boolean,\u000a        created_at timestamp(6),\u000a        id bigint generated by default as identity (start with 1),\u000a        match_id bigint not null unique,\u000a        updated_at timestamp(6),\u000a        validation_date timestamp(6),\u000a        strategy varchar(255),\u000a        primary key (id)\u000a    )
\u000a    create table matches (\u000a        away_score integer,\u000a        home_score integer,\u000a        away_team_id bigint not null,\u000a        competition_id bigint not null,\u000a        created_at timestamp(6),\u000a        home_team_id bigint not null,\u000a        id bigint generated by default as identity (start with 1),\u000a        match_date timestamp(6) not null,\u000a        updated_at timestamp(6),\u000a        location varchar(255),\u000a        match_status varchar(255) not null check (match_status in ('SCHEDULED','ONGOING','COMPLETED','POSTPONED','CANCELLED')),\u000a        primary key (id)\u000a    )
\u000a    create table media (\u000a        competition_id bigint,\u000a        created_at timestamp(6),\u000a        id bigint generated by default as identity (start with 1),\u000a        match_id bigint,\u000a        uploaded_by bigint not null,\u000a        media_type varchar(255) not null check (media_type in ('IMAGE','VIDEO','AUDIO','DOCUMENT')),\u000a        title varchar(255) not null,\u000a        url varchar(255) not null,\u000a        primary key (id)\u000a    )
\u000a    create table notifications (\u000a        is_read boolean,\u000a        created_at timestamp(6),\u000a        id bigint generated by default as identity (start with 1),\u000a        user_id bigint not null,\u000a        message varchar(255) not null,\u000a        notification_type varchar(255) not null check (notification_type in ('COMPETITION_REGISTRATION','MATCH_REMINDER','RESULT_UPDATE','SYSTEM_MESSAGE')),\u000a        title varchar(255) not null,\u000a        primary key (id)\u000a    )
\u000a    create table player_histories (\u000a        assists integer,\u000a        goals_scored integer,\u000a        minutes_played integer,\u000a        red_cards integer,\u000a        yellow_cards integer,\u000a        created_at timestamp(6),\u000a        id bigint generated by default as identity (start with 1),\u000a        match_id bigint not null,\u000a        player_id bigint not null,\u000a        updated_at timestamp(6),\u000a        player_status varchar(255) not null check (player_status in ('STARTER','SUBSTITUTE','ENTERED','NOT_PLAYED','INJURED','EXPELLED')),\u000a        primary key (id)\u000a    )
\u000a    create table player_participations (\u000a        goals_scored integer,\u000a        minutes_played integer,\u000a        red_cards integer,\u000a        shirt_number integer,\u000a        substitution_in_time integer,\u000a        substitution_out_time integer,\u000a        yellow_cards integer,\u000a        created_at timestamp(6),\u000a        id bigint generated by default as identity (start with 1),\u000a        match_sheet_id bigint not null,\u000a        player_id bigint not null,\u000a        updated_at timestamp(6),\u000a        player_status varchar(255) not null check (player_status in ('STARTER','SUBSTITUTE','ENTERED','NOT_PLAYED','INJURED','EXPELLED')),\u000a        position varchar(255),\u000a        primary key (id)\u000a    )
\u000a    create table players (\u000a        date_of_birth date not null,\u000a        id bigint not null,\u000a        team_id bigint not null,\u000a        last_name varchar(255) not null,\u000a        license_number varchar(255) not null unique,\u000a        primary key (id)\u000a    )
\u000a    create table standings (\u000a        goal_difference integer,\u000a        goals_against integer,\u000a        goals_for integer,\u000a        matches_drawn integer,\u000a        matches_lost integer,\u000a        matches_played integer,\u000a        matches_won integer,\u000a        points integer,\u000a        rank integer,\u000a        competition_id bigint not null,\u000a        id bigint generated by default as identity (start with 1),\u000a        team_id bigint not null,\u000a        updated_at timestamp(6),\u000a        primary key (id)\u000a    )
\u000a    create table teams (\u000a        coach_id bigint not null,\u000a        created_at timestamp(6),\u000a        id bigint generated by default as identity (start with 1),\u000a        updated_at timestamp(6),\u000a        category varchar(255) not null,\u000a        logo varchar(255),\u000a        name varchar(255) not null,\u000a        primary key (id)\u000a    )
\u000a    create table users (\u000a        created_at timestamp(6),\u000a        id bigint generated by default as identity (start with 1),\u000a        updated_at timestamp(6),\u000a        email varchar(255) not null unique,\u000a        first_name varchar(255) not null,\u000a        password varchar(255) not null,\u000a        phone_number varchar(255),\u000a        profile_picture varchar(255),\u000a        role varchar(255) not null,\u000a        sur_name varchar(255) not null,\u000a        user_name varchar(255),\u000a        primary key (id)\u000a    )
\u000a    alter table competition_teams \u000a       add constraint FKe7d44sqbvks0ksyek5s0hkwbb \u000a       foreign key (team_id) \u000a       references teams
\u000a    alter table competition_teams \u000a       add constraint FK3vr384amtk94uwh5y09qs72tx \u000a       foreign key (competition_id) \u000a       references competitions
\u000a    alter table competitions \u000a       add constraint FKgyg21c2jo1s32pybeb6xduox7 \u000a       foreign key (organizer_id) \u000a       references users
\u000a    alter table match_sheets \u000a       add constraint FKs424mpo83t87r4bqpno5sa1bj \u000a       foreign key (match_id) \u000a       references matches
\u000a    alter table matches \u000a       add constraint FK2e8erbfecb0tjtq9iudg36bxu \u000a       foreign key (away_team_id) \u000a       references teams
\u000a    alter table matches \u000a       add constraint FK2yx8g5hn2q4hfx6mi59o1fo0y \u000a       foreign key (competition_id) \u000a       references competitions
\u000a    alter table matches \u000a       add constraint FK8k68nekawp47js52dq8720voe \u000a       foreign key (home_team_id) \u000a       references teams
\u000a    alter table media \u000a       add constraint FKcs4djkcnc40n0j0xyv2jsqt7u \u000a       foreign key (competition_id) \u000a       references competitions
\u000a    alter table media \u000a       add constraint FKcaa44srlkgjpkyrdku4xbs4ge \u000a       foreign key (match_id) \u000a       references matches
\u000a    alter table media \u000a       add constraint FKtphggvts46illbyvh98xlb0fd \u000a       foreign key (uploaded_by) \u000a       references users
\u000a    alter table notifications \u000a       add constraint FK9y21adhxn0ayjhfocscqox7bh \u000a       foreign key (user_id) \u000a       references users
\u000a    alter table player_histories \u000a       add constraint FKpbpk8aocfo09l7c5b5cdvv485 \u000a       foreign key (match_id) \u000a       references matches
\u000a    alter table player_histories \u000a       add constraint FKgy4s54dr3rjmostywskw4nw36 \u000a       foreign key (player_id) \u000a       references players
\u000a    alter table player_participations \u000a       add constraint FKb8mlur1fj9f83hmkhkwxwto86 \u000a       foreign key (match_sheet_id) \u000a       references match_sheets
\u000a    alter table player_participations \u000a       add constraint FK8yopq0735xwb4f6o072sqapsi \u000a       foreign key (player_id) \u000a       references players
\u000a    alter table players \u000a       add constraint FK5nglidr00c4dyybl171v6kask \u000a       foreign key (team_id) \u000a       references teams
\u000a    alter table players \u000a       add constraint FKew10bdm70xnwdi3dgm7ja23fk \u000a       foreign key (id) \u000a       references users
\u000a    alter table standings \u000a       add constraint FK1mk0ei56mpdisw4rnmvmdc6m5 \u000a       foreign key (competition_id) \u000a       references competitions
\u000a    alter table standings \u000a       add constraint FK6ak9f4ieqoq2bam5sjt9us7e \u000a       foreign key (team_id) \u000a       references teams
\u000a    alter table teams \u000a       add constraint FK960eiqvy6kth3pqmgrmrolfxw \u000a       foreign key (coach_id) \u000a       references users
INSERT INTO USERS VALUES('2025-04-03 12:44:46.328307',1,'2025-04-03 12:44:46.328334','organizer@example.com','John','$2a$10$gXKPD8t9VQNAjvUw5zExA./x/Bgx.ZIrauYZaxQn7i57RdPnYLkie',NULL,NULL,'ORGANIZER','Doe',NULL)
COMMIT
INSERT INTO USERS VALUES('2025-04-03 12:44:46.416459',2,'2025-04-03 12:44:46.416481','coach@example.com','Alice','$2a$10$QDQkETY4tpcw1EFlWltQQuOPAilg0ufKtN/2YMTu4/JbABzaXr9Vi',NULL,NULL,'COACH','Smith',NULL)
COMMIT
INSERT INTO TEAMS VALUES(2,'2025-04-03 12:44:46.419783',1,'2025-04-03 12:44:46.419805','Juniors',NULL,'Team Alpha')
COMMIT
INSERT INTO TEAMS VALUES(2,'2025-04-03 12:44:46.429275',2,'2025-04-03 12:44:46.429292','Seniors',NULL,'Team Beta')
COMMIT
INSERT INTO COMPETITIONS VALUES('2025-04-17',16,'2025-04-06','2025-04-10','2025-04-03 12:44:46.431783',1,1,'2025-04-03 12:44:46.431790','UPCOMING','LEAGUE','Annual Spring Football Tournament','Stadium A','Spring Tournament')
INSERT INTO COMPETITION_TEAMS VALUES(1,2)
INSERT INTO COMPETITION_TEAMS VALUES(1,1)
COMMIT
INSERT INTO MATCHES VALUES(NULL,NULL,2,1,'2025-04-03 12:44:46.437224',1,1,'2025-04-11 12:44:46.437191','2025-04-03 12:44:46.437229','Stadium A - Field 1','SCHEDULED')
COMMIT
INSERT INTO MATCH_SHEETS VALUES(FALSE,'2025-04-03 12:44:46.440296',1,1,'2025-04-03 12:44:46.440313',NULL,'Standard 4-4-2')
COMMIT
/*C5*/SET SCHEMA PUBLIC
DISCONNECT
/*C11*/SET SCHEMA PUBLIC
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
DISCONNECT
/*C3*/DISCONNECT
/*C12*/SET SCHEMA PUBLIC
DISCONNECT
/*C6*/SET SCHEMA PUBLIC
DISCONNECT
/*C8*/SET SCHEMA PUBLIC
DISCONNECT
/*C7*/SET SCHEMA PUBLIC
DISCONNECT
/*C9*/SET SCHEMA PUBLIC
DISCONNECT
/*C10*/SET SCHEMA PUBLIC
DISCONNECT
/*C14*/SET SCHEMA PUBLIC
DISCONNECT
/*C17*/SET SCHEMA PUBLIC
DISCONNECT
/*C18*/SET SCHEMA PUBLIC
DISCONNECT
/*C16*/SET SCHEMA PUBLIC
DISCONNECT
/*C13*/SET SCHEMA PUBLIC
DISCONNECT
/*C15*/SET SCHEMA PUBLIC
DISCONNECT
/*C22*/SET SCHEMA PUBLIC
DISCONNECT
/*C20*/SET SCHEMA PUBLIC
DISCONNECT
/*C19*/SET SCHEMA PUBLIC
DISCONNECT
/*C21*/SET SCHEMA PUBLIC
DISCONNECT
